{% extends "base.html" %}
{% load i18n %}

{% block content %}

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.bundle.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
<style>
canvas {
	width: 400px;
	height: 800px;
}
.color-square {
	width: 10px !important;
	float: left;
}
	</style>
	Average percent color words: {{ avg_pct_color | floatformat:2 }}
	Top 5 color words:
	{% for item in most_used_color_words %}
	 {{ item.0}} {{ item.1 }}
	{% endfor %}
  {{ data | length }} works <br />

	<canvas id="polarChart"></canvas>
	<script>

	var data = {
	    datasets: [{
	        data: {{ chart_values }},
	        backgroundColor: ['white', 'black', 'lightgreen', 'red', 'lightseagreen', 'dimgrey', 'blue', 'green', 'gold', 'crimson'],
	        label: 'My dataset' // for legend
	    }],
	    labels: {{ chart_labels }}
	};

				var ctx = document.getElementById('polarChart').getContext('2d');
				ctx.canvas.width = 300;
				ctx.canvas.height = 300;
				var barChart = new Chart(ctx, {
					data: data,
type: "polarArea",
options: {
	elements: {
			arc: {
					borderColor: "#000000"
			}
	}
}
				});
	</script>
{{ chart_labels }}
{{ chart_values }}
{{ chart_hex }}
	<table class="table table-hover table-responsive">
		{% for work in data %}
		<tr>
			<td class="col-xs-6 col-md-3">
				{{ work.title }} ({{ work.year }})<br />
				by {{ work.author }} <br />
				{{ work.period | default:"n/a" }} | {{ work.mode | default:"n/a" }} | {{ work.role | default:"n/a" }} | {{ work.nationality | default:"n/a" }}
			</td>

			<td class="col-xs-6 col-md-3">
				{{ work.pct_color|floatformat:2 }}% <br />
				color words
			</td>

			<td class="col-xs-6 col-md-3">
				{% for color in work.cd %}
					{{ color.0 }} ({{ color.1 }})
				{% endfor %}
			</td>

			<td class="col-xs-6 col-md-3">
				{% for item in work.cl %}
						<a href="#" data-toggle="tooltip" data-placement="top" title="Word: {{ item.0 }}  |   Word Type: {{ item.1 | capfirst }}  |  Color family: {{ item.3 }}"></a>
						<div class="color-square" style="background:{{ item.2 }}"></div>
				{% endfor %}

			</td>
		</tr>
  {% endfor %}
	</table>


	<!--jQuery-->
	<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>

	<script>$(document).ready(function(){
		$('[data-toggle="tooltip"]').tooltip();
	});</script>

{% endblock %}
