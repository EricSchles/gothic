{% extends "base.html" %}
{% load i18n %}

{% block content %}
<style> .color-square {
	width: 10px;
	height: 10px;
	float: left;
}
canvas#polar-chart {width: 80%;
  margin: 15px auto;} </style>


<script>
var ctx = document.getElementById("polar-chart");
var data = {
    datasets: [{
        data: [
            11,
            16,
            7,
            3,
            14
        ],
        backgroundColor: [
            "#FF6384",
            "#4BC0C0",
            "#FFCE56",
            "#E7E9ED",
            "#36A2EB"
        ],
        label: {{ data | length }}// for legend
    }],
    labels: [
      {{ data | length }},
        "Green",
        "Yellow",
        "Grey",
        "Blue"
    ]
};
console.log(data);
new Chart(ctx, {
    data: data,
    type: 'polarArea',
    options: {
elements: {
  arc: {
      borderColor: "#000000"
  }
}
}
});

</script>
  {{ data | length }} works <br />
	<table class="table table-hover table-responsive">
		{% for work in data %}
		<tr>
			<td class="col-xs-6 col-md-3">
				{{ work.title }} ({{ work.year }})<br />
				by {{ work.author }} <br />
				{{ work.period | default:"n/a" }} | {{ work.mode | default:"n/a" }} | {{ work.role | default:"n/a" }} | {{ work.nationality | default:"n/a" }}
			</td>

			<td class="col-xs-6 col-md-3">
				{{ work.pct_color|floatformat:2 }}% <br />
				color words
			</td>

			<td class="col-xs-6 col-md-3">
				{% for item in work.cd %}
					{{ item.1 }}
				{% endfor %}
			</td>

			<td class="col-xs-6 col-md-3">
				{% for item in work.cl %}
						<a href="#" data-toggle="tooltip" data-placement="top" title="Word: {{ item.0 }}  |   Word Type: {{ item.1 | capfirst }}  |  Color family: {{ item.3 }}">
						<div class="color-square" style="background:{{ item.2 }}"></div>
				{% endfor %}

			</td>
		</tr>
  {% endfor %}
	</table>
	<div id="container"><canvas id="polar-chart" ></canvas></div>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.bundle.min.js"></script>
	<!--jQuery-->
	<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
	<script>$(document).ready(function(){$('[data-toggle="tooltip"]').tooltip();});</script>
{% endblock %}
